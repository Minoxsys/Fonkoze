@model Web.Models.Home.IndexModel
@section page_title{
Snapshot Application
}


<script type="text/javascript">
    window.res.header.subnavigation.buttonTabs = {
        id: 'ButtonTabs',
        group:'AdministrationButtonsGroup',
        outpost: 'ButtonTabs-OutpostAdministration-Button',
        product: 'ButtonTabs-ProductAdministration-Button',
        user: 'ButtonTabs-UserAdministration-Button'
    };

    Ext.onReady(function () {
        var content = Ext.getCmp(window.res.content.id);

        content.add({
            xtype: 'container',
            layout: {
                type: 'vbox',
                align: 'center'
            },
            items: [{
                xtype: 'image',
                src: '@(Url.RouteUrl<Web.Controllers.AssetsController>(it => it.Shared("/img/charts2.png"), Web.Bootstrap.Routes.AssetRoutesRegistrar.SHARED))',
                width: 1400,
                margin: '20 0 0 0'
            }]
        });

    });
</script>


<script type="text/javascript">
    Ext.onReady(function () {
        var subNavRes = window.res.header.subnavigation;
        var subnav = Ext.getCmp(subNavRes.id);

        subnav.add([{
            xtype: 'container',
            id: subNavRes.buttonTabs.id,
            margin: 0,
            padding: 0,
            width: 500,
            layout: {
                align: 'stretch',
                padding: 0,
                type: 'vbox'
            },
            items: [{
                xtype: 'container',
                flex: 1,
                items: [{
                    xtype: 'label',
                    html: '&nbsp;' 
                }]
            },{
                xtype: 'container',
                layout: {
                    type: 'column'
                },
                flex: 1,
                items: []
            }]
        }, {
           xtype: 'container',
                id: 'userInfo',
                flex: 2,
                layout: {
                    align: 'stretch',
                    type: 'vbox'
                },
                items: [{
                    xtype: 'container',
                    flex: 1,
                    layout: {
                        align: 'stretch',
                        pack: 'end',
                        type: 'hbox'
                    },
                    items: [{
                        xtype: 'container',
                        width: 380,
                        layout: {
                            align: 'stretch',
                            type: 'vbox'
                        },
                        items: [{
                            xtype: 'label',
                            style:'text-align:right;',  
                            margin: '3, 20, 3, 0',
                            text: '@Html.Action("UserDetails","Home")',
                            cls: 'x-username-label' 
                        },{
                            xtype: 'container',
                            style:'text-align:right;', 
                            items: [{
                                xtype: 'label', 
                                margin: '0, 10, 0, 0',
                                cls: 'x-userMenu-label',
                                text: 'Help',
                                listeners: {
                                    render: function (c) {
                                        c.getEl().addCls('pseudolink');
                                                
                                        c.getEl().on('click', function () {
                                            var win=Ext.create('Ext.window.Window', {
                                                title: 'Help',
                                                width: 400,
                                                height: 320,
                                                modal: true,
                                                ui: 'snapshot-popup-window',
                                                buttons: [
                                                    {    
                                                        text: 'Ok',
                                                        margin: '10 10 20 0',
                                                        ui: 'snapshot-add-btn',
                                                        cls: 'x-add-button-gradient',
                                                        handler: function () { win.close(); }
                                                    },
                                                ],

                                                layout: {
                                                    padding: 10,
                                                    type: 'fit'
                                                },
                                                items: [{
                                                    xtype:'container',
                                                    padding:'10',
                                                    html: "<p>Support and help for all web users where any functionality"+
                                                        " related to the system and solution is unavailable shall be processed"+
                                                        " by email request.</p><br/> <p>Support is available from 08:00-18:00 GMT,"+
                                                        " (Monday to Friday except public holidays).</p><br/><p>Please contact us at"+
                                                        " <a href='mailto:support@minoxsys.com' style='font-weight:bold; color:black'>"+
                                                        "support@minoxsys.com</a><br/>Acknowledgement shall be received within one (1) "+
                                                        "business hour from receipt of report and resolution target is five (5) days for"+
                                                        " 95% of incidents.</p>",
                                                    style: {
                                                        'text-align':'justify',
                                                        'color':'#222',
                                                        'line-height':'1.5'
                                                    }
                                                }]
                                                        
                                            });
                                            win.show();
                                        });

                                    }
                                }
                            },{
                                xtype: 'label', 
                                margin: '0, 10, 0, 0',
                                cls: 'x-userMenu-label',
                                text: ' · Account Options ·',
                                autoEl: { tag: 'a', href: '@Url.RouteUrl(Web.Bootstrap.Routes.DefaultRouteRegistrar.DEFAULT_ROUTE, new { controller = "AccountOptions", action = "Overview" })' }
                            },{
                                xtype: 'label', 
                                text: 'Log Out',
                                margin: '0, 20, 0, 0',
                                cls: 'x-userMenu-label',
                                autoEl: {tag: 'a', href: '@Url.RouteUrl(Web.Bootstrap.Routes.DefaultRouteRegistrar.DEFAULT_ROUTE, new { controller = "Account", action = "LogOff" })'}
                            },{
                                xtype: 'image',
                                src: '@(Url.RouteUrl<Web.Controllers.AssetsController>(it => it.Shared("/img/Logout.png"), Web.Bootstrap.Routes.AssetRoutesRegistrar.SHARED))',
                                margin: '-4 10 0 -15',
                                style: {float:'none'}
                                           
                                }]
                        }]
                    }]
                }]
            }]);
                        
        subnav.ownerCt.doLayout();

    });
</script>